(function(a){function b(f){if(d[f])return d[f].exports;var g=d[f]={i:f,l:!1,exports:{}};return a[f].call(g.exports,g,g.exports,b),g.l=!0,g.exports}var d={};return b.m=a,b.c=d,b.i=function(f){return f},b.d=function(f,g,k){b.o(f,g)||Object.defineProperty(f,g,{configurable:!1,enumerable:!0,get:k})},b.n=function(f){var g=f&&f.__esModule?function(){return f['default']}:function(){return f};return b.d(g,'a',g),g},b.o=function(f,g){return Object.prototype.hasOwnProperty.call(f,g)},b.p='',b(b.s=0)})([function(){'use strict';function f(){}function g(db,eb){let gb,hb,ib,jb,fb=pa;for(jb=arguments.length;2<jb--;)oa.push(arguments[jb]);for(eb&&null!=eb.children&&(!oa.length&&oa.push(eb.children),delete eb.children);oa.length;)if((hb=oa.pop())&&void 0!==hb.pop)for(jb=hb.length;jb--;)oa.push(hb[jb]);else(!0===hb||!1===hb)&&(hb=null),(ib='function'!=typeof db)&&(null==hb?hb='':'number'==typeof hb?hb+='':'string'!=typeof hb&&(ib=!1)),ib&&gb?fb[fb.length-1]+=hb:fb===pa?fb=[hb]:fb.push(hb),gb=ib;let kb=new f;return kb.nodeName=db,kb.children=fb,kb.attributes=null==eb?void 0:eb,kb.key=null==eb?void 0:eb.key,void 0!==na.vnode&&na.vnode(kb),kb}function k(db,eb){for(let fb in eb)db[fb]=eb[fb];return db}function m(db){!db._dirty&&(db._dirty=!0)&&1==wa.push(db)&&(na.debounceRendering||setTimeout)(n)}function n(){let db,eb=wa;for(wa=[];db=eb.pop();)db._dirty&&M(db)}function q(db,eb,fb){return'string'==typeof eb||'number'==typeof eb?void 0!==db.splitText:'string'==typeof eb.nodeName?!db._componentConstructor&&r(db,eb.nodeName):fb||db._componentConstructor===eb.nodeName}function r(db,eb){return db.normalizedNodeName===eb||db.nodeName.toLowerCase()===eb.toLowerCase()}function u(db){let eb=k({},db.attributes);eb.children=db.children;let fb=db.nodeName.defaultProps;if(fb!==void 0)for(let gb in fb)void 0===eb[gb]&&(eb[gb]=fb[gb]);return eb}function w(db,eb){let fb=eb?document.createElementNS('http://www.w3.org/2000/svg',db):document.createElement(db);return fb.normalizedNodeName=db,fb}function x(db){db.parentNode&&db.parentNode.removeChild(db)}function y(db,eb,fb,gb,hb){if('className'===eb&&(eb='class'),'key'===eb);else if('ref'===eb)fb&&fb(null),gb&&gb(db);else if('class'===eb&&!hb)db.className=gb||'';else if('style'===eb){if(gb&&'string'!=typeof gb&&'string'!=typeof fb||(db.style.cssText=gb||''),gb&&'object'==typeof gb){if('string'!=typeof fb)for(let ib in fb)ib in gb||(db.style[ib]='');for(let ib in gb)db.style[ib]='number'==typeof gb[ib]&&!1===va.test(ib)?gb[ib]+'px':gb[ib]}}else if('dangerouslySetInnerHTML'===eb)gb&&(db.innerHTML=gb.__html||'');else if('o'==eb[0]&&'n'==eb[1]){let ib=eb!==(eb=eb.replace(/Capture$/,''));eb=eb.toLowerCase().substring(2),gb?!fb&&db.addEventListener(eb,A,ib):db.removeEventListener(eb,A,ib),(db._listeners||(db._listeners={}))[eb]=gb}else if('list'!==eb&&'type'!==eb&&!hb&&eb in db)z(db,eb,null==gb?'':gb),(null==gb||!1===gb)&&db.removeAttribute(eb);else{let ib=hb&&eb!==(eb=eb.replace(/^xlink\:?/,''));null==gb||!1===gb?ib?db.removeAttributeNS('http://www.w3.org/1999/xlink',eb.toLowerCase()):db.removeAttribute(eb):'function'!=typeof gb&&(ib?db.setAttributeNS('http://www.w3.org/1999/xlink',eb.toLowerCase(),gb):db.setAttribute(eb,gb))}}function z(db,eb,fb){try{db[eb]=fb}catch(gb){}}function A(db){return this._listeners[db.type](na.event&&na.event(db)||db)}function B(){for(let db;db=xa.pop();)na.afterMount&&na.afterMount(db),db.componentDidMount&&db.componentDidMount()}function C(db,eb,fb,gb,hb,ib){ya++||(za=null!=hb&&void 0!==hb.ownerSVGElement,Aa=null!=db&&!(ua in db));let jb=D(db,eb,fb,gb,ib);return hb&&jb.parentNode!==hb&&hb.appendChild(jb),--ya||(Aa=!1,!ib&&B()),jb}function D(db,eb,fb,gb,hb){let ib=db,jb=za;if(null==eb&&(eb=''),'string'==typeof eb)return db&&void 0!==db.splitText&&db.parentNode&&(!db._component||hb)?db.nodeValue!=eb&&(db.nodeValue=eb):(ib=document.createTextNode(eb),db&&(db.parentNode&&db.parentNode.replaceChild(ib,db),F(db,!0))),ib[ua]=!0,ib;if('function'==typeof eb.nodeName)return N(db,eb,fb,gb);if(za='svg'===eb.nodeName||'foreignObject'!==eb.nodeName&&za,(!db||!r(db,eb.nodeName+''))&&(ib=w(eb.nodeName+'',za),db)){for(;db.firstChild;)ib.appendChild(db.firstChild);db.parentNode&&db.parentNode.replaceChild(ib,db),F(db,!0)}let kb=ib.firstChild,lb=ib[ua]||(ib[ua]={}),mb=eb.children;return!Aa&&mb&&1===mb.length&&'string'==typeof mb[0]&&null!=kb&&void 0!==kb.splitText&&null==kb.nextSibling?kb.nodeValue!=mb[0]&&(kb.nodeValue=mb[0]):(mb&&mb.length||null!=kb)&&E(ib,mb,fb,gb,Aa||null!=lb.dangerouslySetInnerHTML),H(ib,eb.attributes,lb),za=jb,ib}function E(db,eb,fb,gb,hb){let qb,rb,sb,tb,ib=db.childNodes,jb=[],kb={},lb=0,mb=0,nb=ib.length,ob=0,pb=eb?eb.length:0;if(0!==nb)for(let ub=0;ub<nb;ub++){let vb=ib[ub],wb=vb[ua],xb=pb&&wb?vb._component?vb._component.__key:wb.key:null;null==xb?(wb||(void 0===vb.splitText?hb:!hb||vb.nodeValue.trim()))&&(jb[ob++]=vb):(lb++,kb[xb]=vb)}if(0!==pb)for(let ub=0;ub<pb;ub++){sb=eb[ub],tb=null;let vb=sb.key;if(null!=vb)lb&&void 0!==kb[vb]&&(tb=kb[vb],kb[vb]=void 0,lb--);else if(!tb&&mb<ob)for(qb=mb;qb<ob;qb++)if(void 0!==jb[qb]&&q(rb=jb[qb],sb,hb)){tb=rb,jb[qb]=void 0,qb===ob-1&&ob--,qb===mb&&mb++;break}tb=D(tb,sb,fb,gb),tb&&tb!==db&&(ub>=nb?db.appendChild(tb):tb!==ib[ub]&&(tb===ib[ub+1]?x(ib[ub]):db.insertBefore(tb,ib[ub]||null)))}if(lb)for(let ub in kb)void 0!==kb[ub]&&F(kb[ub],!1);for(;mb<=ob;)void 0!==(tb=jb[ob--])&&F(tb,!1)}function F(db,eb){let fb=db._component;fb?O(fb):(null!=db[ua]&&db[ua].ref&&db[ua].ref(null),(!1===eb||null==db[ua])&&x(db),G(db))}function G(db){for(db=db.lastChild;db;){let eb=db.previousSibling;F(db,!0),db=eb}}function H(db,eb,fb){for(var gb in fb)eb&&null!=eb[gb]||null==fb[gb]||y(db,gb,fb[gb],fb[gb]=void 0,za);for(gb in eb)'children'===gb||'innerHTML'===gb||gb in fb&&eb[gb]===('value'===gb||'checked'===gb?db[gb]:fb[gb])||y(db,gb,fb[gb],fb[gb]=eb[gb],za)}function I(db){let eb=db.constructor.name;(Ba[eb]||(Ba[eb]=[])).push(db)}function J(db,eb,fb){let hb,gb=Ba[db.name];if(db.prototype&&db.prototype.render?(hb=new db(eb,fb),P.call(hb,eb,fb)):(hb=new P(eb,fb),hb.constructor=db,hb.render=K),gb)for(let ib=gb.length;ib--;)if(gb[ib].constructor===db){hb.nextBase=gb[ib].nextBase,gb.splice(ib,1);break}return hb}function K(db,eb,fb){return this.constructor(db,fb)}function L(db,eb,fb,gb,hb){db._disable||(db._disable=!0,(db.__ref=eb.ref)&&delete eb.ref,(db.__key=eb.key)&&delete eb.key,!db.base||hb?db.componentWillMount&&db.componentWillMount():db.componentWillReceiveProps&&db.componentWillReceiveProps(eb,gb),gb&&gb!==db.context&&(!db.prevContext&&(db.prevContext=db.context),db.context=gb),!db.prevProps&&(db.prevProps=db.props),db.props=eb,db._disable=!1,fb!==qa&&(fb!==ra&&!1===na.syncComponentUpdates&&db.base?m(db):M(db,ra,hb)),db.__ref&&db.__ref(db))}function M(db,eb,fb,gb){if(db._disable)return;let sb,tb,ub,hb=db.props,ib=db.state,jb=db.context,kb=db.prevProps||hb,lb=db.prevState||ib,mb=db.prevContext||jb,nb=db.base,ob=db.nextBase,pb=nb||ob,qb=db._component,rb=!1;if(nb&&(db.props=kb,db.state=lb,db.context=mb,eb!==sa&&db.shouldComponentUpdate&&!1===db.shouldComponentUpdate(hb,ib,jb)?rb=!0:db.componentWillUpdate&&db.componentWillUpdate(hb,ib,jb),db.props=hb,db.state=ib,db.context=jb),db.prevProps=db.prevState=db.prevContext=db.nextBase=null,db._dirty=!1,!rb){sb=db.render(hb,ib,jb),db.getChildContext&&(jb=k(k({},jb),db.getChildContext()));let wb,xb,vb=sb&&sb.nodeName;if('function'==typeof vb){let yb=u(sb);tb=qb,tb&&tb.constructor===vb&&yb.key==tb.__key?L(tb,yb,ra,jb,!1):(wb=tb,db._component=tb=J(vb,yb,jb),tb.nextBase=tb.nextBase||ob,tb._parentComponent=db,L(tb,yb,qa,jb,!1),M(tb,ra,fb,!0)),xb=tb.base}else ub=pb,wb=qb,wb&&(ub=db._component=null),(pb||eb===ra)&&(ub&&(ub._component=null),xb=C(ub,sb,jb,fb||!nb,pb&&pb.parentNode,!0));if(pb&&xb!==pb&&tb!==qb){let yb=pb.parentNode;yb&&xb!==yb&&(yb.replaceChild(xb,pb),!wb&&(pb._component=null,F(pb,!1)))}if(wb&&O(wb),db.base=xb,xb&&!gb){let yb=db,zb=db;for(;zb=zb._parentComponent;)(yb=zb).base=xb;xb._component=yb,xb._componentConstructor=yb.constructor}}if(!nb||fb?xa.unshift(db):!rb&&(B(),db.componentDidUpdate&&db.componentDidUpdate(kb,lb,mb),na.afterUpdate&&na.afterUpdate(db)),null!=db._renderCallbacks)for(;db._renderCallbacks.length;)db._renderCallbacks.pop().call(db);ya||gb||B()}function N(db,eb,fb,gb){let hb=db&&db._component,ib=hb,jb=db,kb=hb&&db._componentConstructor===eb.nodeName,lb=kb,mb=u(eb);for(;hb&&!lb&&(hb=hb._parentComponent);)lb=hb.constructor===eb.nodeName;return hb&&lb&&(!gb||hb._component)?(L(hb,mb,ta,fb,gb),db=hb.base):(ib&&!kb&&(O(ib),db=jb=null),hb=J(eb.nodeName,mb,fb),db&&!hb.nextBase&&(hb.nextBase=db,jb=null),L(hb,mb,ra,fb,gb),db=hb.base,jb&&db!==jb&&(jb._component=null,F(jb,!1))),db}function O(db){na.beforeUnmount&&na.beforeUnmount(db);let eb=db.base;db._disable=!0,db.componentWillUnmount&&db.componentWillUnmount(),db.base=null;let fb=db._component;fb?O(fb):eb&&(eb[ua]&&eb[ua].ref&&eb[ua].ref(null),db.nextBase=eb,x(eb),I(db),G(eb)),db.__ref&&db.__ref(null)}function P(db,eb){this._dirty=!0,this.context=eb,this.props=db,this.state=this.state||{}}function R(db,eb,fb){return eb.startsWith('oauth/')||(eb=`api/v1/${eb}`),fetch(`https://${db}/${eb}`,fb)}function S(db,eb,fb){return R(db.domain,eb,Object.assign({},fb,{headers:{Authorization:`Bearer ${db.access_token}`}}))}function T(db){return Da.entry(`registration-${db}`).orInsertWith(()=>U(db))}async function U(db){const eb=new URLSearchParams;eb.append('response_type','code'),eb.append('client_name','Leviathan'),eb.append('redirect_uris','urn:ietf:wg:oauth:2.0:oob');const fb=await R(db,'apps',{method:'POST',body:eb});return await fb.json()}async function V(db,eb,fb){const gb=await T(db),hb=new URLSearchParams;hb.append('client_id',gb.client_id),hb.append('client_secret',gb.client_secret),hb.append('grant_type','password'),hb.append('username',eb),hb.append('password',fb);const ib=await R(db,'oauth/token',{method:'POST',redirect:'manual',body:hb});if(200!==ib.status)return{success:!1};const jb=Object.assign((await ib.json()),{domain:db});return Da.set('token',jb),{success:!0,token:jb}}function W(){return Da.get('token')}function X(){Da.delete('token')}async function Y(db){const eb=await S(db,'accounts/verify_credentials');return await eb.json()}function Z(db,eb){return(fb)=>{db[eb]=fb}}function $(db,eb){return(...fb)=>db[eb](...fb)}function _(db){if(!db||'object'!==('undefined'==typeof db?'undefined':Ea(db)))return!1;var eb=Object.getPrototypeOf(db);return!eb||eb===Object.prototype}function aa(db,eb,fb){return'object'===('undefined'==typeof eb?'undefined':Ea(eb))&&eb?(Object.keys(eb).forEach(function(gb){var hb=eb[gb];void 0===hb||null===hb?delete db[gb]:!0!==fb&&_(hb)?((!Fa(db,gb)||!_(db[gb]))&&(db[gb]={}),aa(db[gb],hb)):db[gb]=hb}),db):db}function ba(db,eb,fb,gb){var hb=void 0;for(hb in eb){var ib=eb[hb];if(hb in db){var jb=db[hb],kb='function'==typeof jb,lb=hb+':'+Ha(kb?ib:!!ib);if(!Fa(fb,lb)){fb[lb]=aa({},kb?jb(ib):ib&&jb);var mb={};ba(db,fb[lb],fb,mb),fb[lb]=mb}aa(gb,fb[lb])}else _(ib)?(Fa(gb,hb)&&_(gb[hb])||(gb[hb]={}),ba(db,ib,fb,gb[hb])):gb[hb]=ib}return gb}function da(db,eb,fb){for(var hb,gb=db.length-1;0<=gb;gb--)hb=db[gb],hb&&('number'==typeof hb.length?da(hb,eb,fb):!fb[hb.id]&&(eb.unshift(hb),fb[hb.id]=!0,hb.parents&&da(hb.parents,eb,fb)))}function ea(){var db=[];return da(arguments,db,{}),db}function fa(db){return db.replace(/([A-Z])/g,'-$1')}function ga(db,eb){if(!1,Array.isArray(eb))return eb.map(function(gb){return ga(db,gb)}).reverse().join('\n');var fb=Ka[db];return'content'===db?eb=JSON.stringify(eb):'number'==typeof eb&&!fb&&(eb+='px'),db in Ja||(Ja[db]=fa(db)),Ja[db]+':'+eb+';'}function ha(db,eb,fb,gb){var hb='',ib=[];for(var jb in eb){var kb=eb[jb];_(kb)?ib.push(jb):hb+=ga(jb,kb)}hb&&(hb=db+'{'+hb+'}',gb&&(hb=gb+'{'+hb+'}'),fb(hb));for(var lb=0;lb<ib.length;lb++){var mb=ib[lb],nb=eb[mb];if('@'===mb[0])ha(db,nb,fb,mb);else{var ob='$'===mb[0]?'::'+mb.slice(1):':'===mb[0]?mb:':'+mb;ha(''+db+fa(ob),nb,fb,gb)}}}function ia(db){var eb=0,fb=Object.create(null);return function(hb){var ib;return{toString:function(){if(!ib){var kb=-1;ib=ea(hb).map(function(lb){for(var mb=-1,nb=fb[lb.id]||(fb[lb.id]=[]),ob=0;ob<nb.length;ob++)if(nb[ob]>kb){mb=nb[ob];break}return 0>mb&&(ha('.'+lb.class+'__'+eb,lb.declarations,db),nb.push(eb),mb=eb,eb+=1),kb=mb,lb.class+'__'+mb}).join(' ')}return ib},_rules:hb}}}function ja(){function db(){return vb(gb(arguments))}function eb(Ab){return function(Bb){for(var Cb in Bb)Ab(Cb,Bb[Cb]);return db}}function fb(Ab,Bb){var Db,Cb=void 0;for(Cb=0,Db=Ab.length;Cb<Db;Cb++){var Eb=Ab[Cb];if(Eb){var Fb='undefined'==typeof Eb?'undefined':Ea(Eb);if('object'===Fb&&Eb)Eb._rules?fb(Eb._rules,Bb):Eb.length?fb(Eb,Bb):Bb.push(Eb);else if('string'===Fb){if(!(Eb in zb))throw new Error('Unknown style "'+Eb+'"');Bb.push(zb[Eb])}else throw new Error('Style "'+Eb+'" has wrong type')}}return Bb}function gb(){return fb(arguments,[])}function ib(Ab,Bb){return yb[Ab]=Bb,db}function jb(Ab,Bb){var Cb=Bb.inherit?Array.isArray(Bb.inherit)?Bb.inherit:[Bb.inherit]:[];return zb[Ab]={id:La,class:mb+'__'+Ab,parents:gb(Cb),declarations:Ia(yb,Bb,wb)},La+=1,db}var kb=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},lb=kb.name,mb=void 0===lb?'':lb,nb=kb.backend,ob=void 0===nb?null:nb,pb=kb._renderer,qb=void 0===pb?null:pb,rb=kb._styles,sb=void 0===rb?null:rb,tb=kb._transforms,ub=void 0===tb?null:tb,vb=qb||ia(ob||Ga()),wb=Object.create(null),xb=Object.create(null),yb=Object.create(ub),zb=Object.create(sb);return db.namespace=function(Ab){return Ab in xb||(xb[Ab]=ja({name:mb?mb+'_'+Ab:Ab,_renderer:vb,_transforms:yb,_styles:zb})),xb[Ab]},db.addTransform=ib,db.addTransforms=eb(ib),db.addRule=jb,db.addRules=eb(jb),db}function ka(db){return /^(?:https?:\/\/)?([^\/]*)/.exec(db)[1]}async function la(db){const eb=await S(db,'timelines/home');return await eb.json()}async function ma(){const db=W();if(db){const eb=await Y(db);return{account:eb,token:db}}return{account:!1}}var na={};const oa=[],pa=[],qa=0,ra=1,sa=2,ta=3,ua='__preactattr_',va=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i;let wa=[];const xa=[];let ya=0,za=!1,Aa=!1;const Ba={};k(P.prototype,{setState(db,eb){let fb=this.state;this.prevState||(this.prevState=k({},fb)),k(fb,'function'==typeof db?db(fb,this.props):db),eb&&(this._renderCallbacks=this._renderCallbacks||[]).push(eb),m(this)},forceUpdate(db){db&&(this._renderCallbacks=this._renderCallbacks||[]).push(db),M(this,sa)},render(){}});class Ca{constructor(db,eb){this._holder=db,this._key=eb}get key(){return this._key}orInsert(db){return this._holder.has(this._key)||this._holder.set(this._key,db),this._holder.get(this._key)}async orInsertWith(db){return this._holder.has(this._key)||this._holder.set(this._key,(await db())),this._holder.get(this._key)}}var Da={get(db){const eb=localStorage.getItem(db);if(eb)try{return JSON.parse(eb)}catch(fb){}},set(db,eb){localStorage.setItem(db,JSON.stringify(eb))},has(db){return localStorage.hasOwnProperty(db)},delete(db){localStorage.removeItem(db)},entry(db){return new Ca(this,db)}},Ea='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(db){return typeof db}:function(db){return db&&'function'==typeof Symbol&&db.constructor===Symbol&&db!==Symbol.prototype?'symbol':typeof db},Fa=function(db,eb){return Object.prototype.hasOwnProperty.call(db,eb)},Ga=function(){var db=document.createElement('style');document.head.appendChild(db);var eb=db.sheet;return function(fb){eb.insertRule(fb,eb.cssRules.length)}},Ha=JSON.stringify,Ia=function(db,eb,fb){var gb={};return ba(db,eb,fb,gb),gb},Ja=Object.create(null),Ka=Object.create(null);['columnCount','fillOpacity','flex','flexGrow','flexShrink','fontWeight','lineClamp','lineHeight','opacity','order','orphans','strokeOpacity','transition','transitionDelay','transitionDuration','widows','zIndex','zoom'].forEach(function(db){Ka[db]=!0});var La=0,Ma=ja().addRules({input:{font:'inherit',padding:'2px 5px'}});const Pa='#546e7a',Sa=Ma.namespace('LoginForm').addRules({root:{display:'inline-block'},form:{backgroundColor:'#cddc39',color:'rgba(0, 0, 0, 0.87)',padding:'5px'},message:{backgroundColor:'#c62828',color:'#ffffff',padding:'5px 10px',marginBottom:'10px'},field:{display:'block',padding:'5px',textAlign:'right'},fieldInput:{inherit:'input',marginLeft:'10px',width:'250px'},button:{inherit:'input',display:'block',width:'calc(100% - 10px)',margin:'5px'}});class Ta extends P{constructor(db){super(db),this.state={value:db.initialValue||''}}render({label:db,type:eb},{value:fb}){return g('label',{'class':Sa('field')},db,g('input',{'class':Sa('fieldInput'),ref:Z(this,'input'),type:eb,value:fb,onInput:$(this,'onInput')}))}getValue(){return this.state.value}onInput(db){this.setState({value:db.target.value})}}class Ua extends P{render(db,{loading:eb,message:fb}){return g('div',{'class':Sa('root')},fb&&g('div',{'class':Sa('message')},fb),g('form',{'class':Sa('form'),onSubmit:$(this,'onSubmit')},g(Ta,{ref:Z(this,'server'),type:'text',label:'Server',initialValue:'https://'}),g(Ta,{ref:Z(this,'email'),type:'email',label:'Email'}),g(Ta,{ref:Z(this,'password'),type:'password',label:'Password'}),g('button',{'class':Sa('button'),disabled:eb},eb?'Loading...':'Log in')))}async onSubmit(db){db.preventDefault();const eb=ka(this.server.getValue());if(!eb)return this.setState({message:'Invalid domain'});this.setState({loading:!0,message:''});let fb,gb,hb;try{({success:fb,token:gb}=await V(eb,this.email.getValue(),this.password.getValue()))}catch(ib){fb=!1,hb=ib.message}fb?this.props.onLoggedIn(gb):this.setState({message:hb||'Invalid credentials'}),this.setState({loading:!1})}}const Va=Ma.namespace('Header').addRules({root:{borderBottom:`1px solid ${Pa}`,boxSizing:'border-box',width:'100%',padding:'5px 10px',textAlign:'center'},wrapper:{maxWidth:'600px',display:'flex',margin:'0 auto',justifyContent:'space-between',alignItems:'center'},button:{inherit:'input'}});class Wa extends P{render({onLogout:db,account:{acct:eb}}){return g('div',{'class':Va('root')},g('div',{'class':Va('wrapper')},g('div',null,'Welcome ',eb,'!'),g('button',{'class':Va('button'),onClick:db},'Logout')))}}var Xa=Object.assign||function(db){for(var fb,eb=1;eb<arguments.length;eb++)for(var gb in fb=arguments[eb],fb)Object.prototype.hasOwnProperty.call(fb,gb)&&(db[gb]=fb[gb]);return db};const Ya=Ma.namespace('Timeline').addRules({root:{flex:'1',overflow:'auto',maxWidth:'600px'},toot:{borderBottom:`1px solid ${Pa}`}});class Za extends P{render({content:db,account:{acct:eb}}){return g('div',{'class':Ya('toot')},g('div',null,eb),g('div',{dangerouslySetInnerHTML:{__html:db}}))}}class $a extends P{componentWillMount(){this.loadTimeline()}async loadTimeline(){this.setState({loading:!0});const db=await la(this.props.token);this.setState({loading:!1,timeline:db})}render({type:db},{loading:eb,timeline:fb}){return eb?g('div',{'class':Ya('root')},'Loading...'):(console.log(fb),g('div',{'class':Ya('root')},fb.map((gb)=>g(Za,Xa({key:gb.id},gb)))))}}const _a=Ma.namespace('App').addRules({root:{flex:1,display:'flex',alignItems:'center',justifyContent:'center',flexDirection:'column'},loading:{}});const bb=Ma.namespace('body').addRules({root:{margin:0,height:'100vh',display:'flex',flex:1,fontFamily:'Helvetica Neue,Helvetica,Arial,sans-serif',fontSize:'14px'}});document.body.className=bb('root'),function(db,eb,fb){return C(fb,db,{},!1,eb,!1)}(g(class extends P{componentWillMount(){this.fetchState()}async fetchState(){this.setState({loading:!0});const db=await ma();this.setState(Object.assign({},db,{loading:!1}))}render(db,{loading:eb,token:fb,account:gb}){return eb?g('div',{'class':_a('root','loading')},'Loading...'):gb?g('div',{'class':_a('root')},g(Wa,{account:gb,onLogout:$(this,'logout')}),g($a,{token:fb,type:'home'})):g('div',{'class':_a('root')},g(Ua,{onLoggedIn:$(this,'fetchState')}))}logout(){X(),this.setState({account:!1})}},null),document.body)}]);